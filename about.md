---
title: 
---


<h2>Abstract</h2>
<p>In recent years, substantial strides have been made in the field of text-to-image generation, where models seek to convert textual descriptions into visual representations. Despite notable advancements, challenges persist in generating high-quality images that accurately reflect user-provided prompts. The primary hurdle lies in the simplicity of user prompts, often lacking the necessary details for comprehensive model understanding and accurate visualization. To overcome this, we propose an innovative solution utilizing multimodal large language models (MLLMs). Our enhanced pipeline integrates MLLMs to augment user input text, coupled with a robust evaluation process assessing image quality and alignment with original prompts. This approach not only improves prompt comprehensibility for enhanced image generation but also ensures alignment with user preferences. Preliminary experiments on the MS-COCO dataset showcase the potential of our pipeline, producing images meeting user requirements with greater details than traditional models and prompt refinement pipelines. This highlights the practical applicability of our approach in advancing text-to-image models.</p>

<div class="center">
    <img src="Result1-1.png" alt="Result 1">
    <img src="Result2-1.png" alt="Result 2">
</div>

<h2>Algorithm</h2>
<h3>Input:</h3>
<ul>
    <li><strong>descr</strong>: Description of the image</li>
    <li><strong>max_iter</strong>: Maximum iteration</li>
    <li><strong>agent</strong>: Multimodal Large Language Model</li>
</ul>
<h3>Output:</h3>
<p>Image generated by improved prompt</p>

<div style="border: 1px solid #ccc; padding: 10px; background-color: #f9f9f9; border-radius: 5px;">
    <pre style="margin: 0; overflow-x: auto; font-size: 14px;">
    <code>
    <span style="color: #75715e;">i</span> ← <span style="color: #ae81ff;">0</span>
    
    <span style="color: #ae81ff;">while</span> <span style="color: #75715e;">i</span> &lt; <span style="color: #ae81ff;">max_iter</span> <span style="color: #ae81ff;">do</span>
        <span style="color: #75715e;">prompt</span> ← <span style="color: #ae81ff;">agent</span>.<span style="color: #a6e22e;">Enhance</span>(<span style="color: #75715e;">descr</span>)
        <span style="color: #75715e;">image</span> ← <span style="color: #ae81ff;">SD</span>.<span style="color: #a6e22e;">Generate</span>(<span style="color: #75715e;">prompt</span>)
        <span style="color: #ae81ff;">if</span> <span style="color: #ae81ff;">agent</span>.<span style="color: #a6e22e;">Verify</span>(<span style="color: #75715e;">image</span>, <span style="color: #75715e;">descr</span>) <span style="color: #ae81ff;">then</span>
            <span style="color: #ae81ff;">break</span>
        <span style="color: #ae81ff;">end if</span>
        <span style="color: #75715e;">i</span> ← <span style="color: #75715e;">i</span> + <span style="color: #ae81ff;">1</span>
        <span style="color: #ae81ff;">if</span> <span style="color: #75715e;">i</span> == <span style="color: #ae81ff;">max_iter</span> <span style="color: #ae81ff;">then</span>
            <span style="color: #ae81ff;">break</span>
        <span style="color: #ae81ff;">end if</span>
    <span style="color: #ae81ff;">end while</span>
    
    <span style="color: #ae81ff;">Return</span> <span style="color: #75715e;">image</span>
    </code>
    </pre>
    </div>

<h2>A small example</h2>
<div class="center">
    <img src="SD+LLaVA-Overall-1.png" alt="Example">
</div>

<h2>Result</h2>
<div class="center">
    <img src="Result.png" alt="Result">
</div>

<h2>References</h2>
<ol>
    <li><strong>Stable diffussion model</strong>: <a href="https://github.com/CompVis/stable-diffusion">Stable Diffusion</a></li>
    <li><strong>LLaVA model</strong>: <a href="https://github.com/haotian-liu/LLaVA">LLaVA: Large Language and Vision Assistant</a></li>
    <li><strong>GPT-4V model</strong>: <a href="https://openai.com/contributions/gpt-4v">GPT-4V(ision) technical work and authors</a></li>
    <li><strong>CogVLM model</strong>: <a href="https://github.com/THUDM/CogVLM">CogVLM & CogAgent</a></li>
</ol>